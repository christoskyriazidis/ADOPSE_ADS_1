<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="/styles/style.css" />
    <link rel="stylesheet" href="/styles/sellers/sellers.css" />
    <link rel="stylesheet" href="/styles/components/adContainer/adContainer.css" />
    <script src="/lib/microsoft/signalr/dist/browser/signalr.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/oidc-client/1.11.5/oidc-client.min.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  </head>

  <body>
    <navbar-component></navbar-component>
    <main>
      <!-- <div class="customerContent">
        <customer-component
          id="30"
          image="http://www.mixanitouxronou.gr/wp-content/uploads/2014/01/burnbeer.jpg"
          fname="meme"
          lname="wtf"
          username="kavlias"
          rating="3"
          address="staikopoulou 4"
        ></customer-component>
      </div>
    </main>
    <div>
      <input type="text" id="message" />
      <ul id="chat"></ul>
      <button id="btn">send Message</button>
    </div> -->
    <stars-component star-value="5"></stars-component>





  </body>
  <script src="/scripts/components/navbarComponent.js"></script>
  <script src="/scripts/components/wishlistComponent.js"></script>
  <script src="/scripts/components/notificationComponent.js"></script>
  <script src="/scripts/components/customerContainerComponent.js"></script>
  <script src="/scripts/components/starComponent.js"></script>
  <script src="/scripts/sign-in.js"></script>

  <script>
    //   axios.get("https://localhost:44374/message?pagenumber=1&chatid=1")
    //   .then(res => {
    //       console.log(res)
    //       for(i of res.data){
    //         document.getElementById("chat").innerHTML+=`<li>${i.message}</li>`;
    //       }
    //   })
    //   .catch(err => {
    //       console.error(err);
    //   })
    // let btn = document.querySelector("#btn");
    // let message = document.querySelector("#message");

    // var connection = new signalR.HubConnectionBuilder()
    //   .withUrl("https://localhost:44374/chathub", {
    //     accessTokenFactory: () => me.access_token,
    //   })
    //   .build();

    var connection = new signalR.HubConnectionBuilder()
      .withUrl("https://localhost:44374/chatHub", {
        accessTokenFactory: () => me.access_token,
      })
      .build();

    connection.start().catch(function (err) {
      return console.error(err.toString());
    });

    connection.on("ConnectToChatHub", (message) => {
      console.log("request " + message);
    });
    connection.on("ReceiveMessage", (message) => {
      console.log("request " + message);
    });

    // btn.addEventListener("click", () => {
    //   var message = document.getElementById("messageInput").value;
    //   connection.invoke("SendPrivateMessage", message).catch(function (err) {
    //     return alert(err.toString());
    //   });
    //   console.log("lala");
    // });
  </script>
</html>
